{% extends "base.html" %}
{% load bootstrap_icons %}

{% block page-title %} Setari {% endblock %}


{% block body %}


<hgroup class="title-description">
    <h1>⚙️ Setari</h1>
    <p>
        Aici poti modifica variabilele care stau la baza calculelor pentru
        impozite, taxe, crearea de declaratii, date pfa samd.
    </p>
</hgroup>


<article class="mt-4">

    <form action="{% url 'setari' %}" method="POST">
        {% csrf_token %}

        <p class="text-bold">Datele PFA-ului tau:</p>

        <div class="grid">
            <label for="{{ setari_form.nume.id_for_label }}">
                {{ setari_form.nume.label }}:
                {{ setari_form.nume }}
                {{ setari_form.nume.errors }}
            </label>

            <label for="{{ setari_form.adresa.id_for_label }}">
                {{ setari_form.adresa.label }}:
                {{ setari_form.adresa }}
                {{ setari_form.adresa.errors }}
            </label>
        </div>

        <div class="grid">
            <label for="{{ setari_form.nr_reg_com.id_for_label }}">
                Nr.Reg.Com.:
                {{ setari_form.nr_reg_com }}
                {{ setari_form.nr_reg_com.errors }}
            </label>

            <label for="{{ setari_form.cif_vat_cui.id_for_label }}">
                CIF/VAT:
                {{ setari_form.cif_vat_cui }}
                {{ setari_form.cif_vat_cui.errors }}
            </label>
        </div>

        <div class="grid">
            <label for="{{ setari_form.telefon.id_for_label }}">
                {{ setari_form.telefon.label }}:
                {{ setari_form.telefon }}
                {{ setari_form.telefon.errors }}
            </label>

            <label for="{{ setari_form.email.id_for_label }}">
                {{ setari_form.email.label }}:
                {{ setari_form.email }}
                {{ setari_form.email.errors }}
            </label>
        </div>

        <div class="grid">
            
            <label for="{{ setari_form.iban.id_for_label }}">
                IBAN:
                {{ setari_form.iban }}
                {{ setari_form.iban.errors }}
            </label>

            <label for="{{ setari_form.caen_principal.id_for_label }}">
                Cod CAEN Principal:
                {{ setari_form.caen_principal }}
                {{ setari_form.caen_principal.errors }}
            </label>
        </div>

        <div x-data="{show: {% if setari_form.caen_secondar_1 %} true {% else %} false {% endif %} }">

            <button @click="show = !show" type="button" class="outline secondary">
                {% bs_icon 'plus-lg' %} Adauga CAEN-uri Secundare
            </button>

            <div x-show="show" class="grid mt-2">
                <label for="{{ setari_form.caen_secondar_1.id_for_label }}">
                    CAEN 1:
                    {{ setari_form.caen_secondar_1 }}                    
                    {{ setari_form.caen_secondar_1.errors }}
                </label>
                

                <label for="{{ setari_form.caen_secondar_2.id_for_label }}">
                    CAEN 2:
                    {{ setari_form.caen_secondar_2 }}
                    {{ setari_form.caen_secondar_2.errors }}
                </label>

                <label for="{{ setari_form.caen_secondar_3.id_for_label }}">
                    CAEN 3:
                    {{ setari_form.caen_secondar_3 }}
                    {{ setari_form.caen_secondar_3.errors }}
                </label>

                <label for="{{ setari_form.caen_secondar_4.id_for_label }}">
                    CAEN 4:
                    {{ setari_form.caen_secondar_4 }}
                    {{ setari_form.caen_secondar_4.errors }}
                </label>

                <label for="{{ setari_form.caen_secondar_5.id_for_label }}">
                    CAEN 5:
                    {{ setari_form.caen_secondar_5 }}
                    {{ setari_form.caen_secondar_5.errors }}
                </label>

            </div>

        </div>

        <div class="mt-2">
            <button data-testid="salveaza-datele-pfa" type="submit">
                {% bs_icon 'save' %} Salveaza datele PFA
            </button>
        </div>
    </form>
</article>


{% endblock %}